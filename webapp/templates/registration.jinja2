{% extends "base.jinja2" %}

{% block content %}
<header>
<div class="logo">
  <img src="{{ url_for('static', filename="images/logo.png") }}" alt="flask-two logo">
</div>
<nav class="navigation">
  <a href="/">Home</a>
  <a href="#">About</a>
  <a href="#">Contact</a>
</nav>
<div class="hamburger-menu">
  <div></div>
  <div></div>
  <div></div>
</div>
</header>

{% for message in get_flashed_messages() %}
<div class="alert alert-warning">
    <button
        type="button"
        class="close"
        data-dismiss="alert">
        x
    </button>
    {{ message }}
</div>
{% endfor %}


<div class="form-wrapper">
<h1>SIGN UP</h1>
<form method="POST" action="/registration">
    {{ form.csrf_token }}

    <fieldset class="first_name">
        {{ form.first_name.label }}
        {{ form.first_name(placeholder='Michael') }}
        {% if form.first_name.errors %}
        <ul class="errors">
            {% for error in form.first_name.errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    </fieldset>

    <fieldset class="last_name">
        {{ form.last_name.label }}
        {{ form.last_name(placeholder='Walker') }}
        {% if form.last_name.errors %}
        <ul class="errors">
            {% for error in form.last_name.errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    </fieldset>

    <fieldset class="email">
        {{ form.email.label }}
        {{ form.email(placeholder='enter@email.com') }}
        {% if form.email.errors %}
        <ul class="errors">
            {% for error in form.email.errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    </fieldset>

    <fieldset class="passwd">
        {{ form.passwd.label }}
        {{ form.passwd(placeholder='') }}
        {% if form.passwd.errors %}
        <ul class="errors">
            {% for error in form.passwd.errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    </fieldset>

    <fieldset class="passwd_confirm">
        {{ form.passwd_confirm.label }}
        {{ form.passwd_confirm(placeholder='') }}
        {% if form.passwd_confirm.errors %}
        <ul class="errors">
            {% for error in form.passwd_confirm.errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    </fieldset>

    <div class="submit-button">
        {{ form.submit }}
    </div>
</form>
</div>

<script nonce="{{ csp_nonce() }}">
  // Add event listener to close button
  const closeButtons = document.querySelectorAll('.alert .close');
  closeButtons.forEach(function(button) {
    button.addEventListener('click', function() {
      this.parentElement.style.display = 'none';
    });
  });
</script>
{% endblock %}